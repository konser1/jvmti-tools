windows编译方法
使用mingw
https://www.mingw-w64.org/
下载地址
https://github.com/niXman/mingw-builds-binaries/releases
# Linux
    g++ -O2 -fPIC -shared -I $JAVA_HOME/include -I $JAVA_HOME/include/linux -olibfaketime.so faketime.cpp
# Windows
    g++ -O2 -shared -I "D:/jdk-11/include" -I "D:/jdk-11/include/win32"  -olibfaketime.dll faketime.cpp


编辑器
CLion 2024.2.0.1
Visual Studio Code
https://code.visualstudio.com/docs/cpp/config-mingw



//    Add VM options
//    -agentpath:$MODULE_DIR$\libfaketime.dll=+600000 -XX:+UnlockDiagnosticVMOptions -XX:DisableIntrinsic=_currentTimeMillis -XX:CompileCommand=dontinline,java.lang.System::currentTimeMillis
 
public static void main(String[] args) {
        System.setProperty("faketime.offset.seconds","-600000");
        Date d = new Date();
        System.out.println("Start:"+d+", cur="+new Date());
}
